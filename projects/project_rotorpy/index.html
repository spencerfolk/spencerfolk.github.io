<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Python UAV Simulator | Spencer Folk </title> <meta name="author" content="Spencer Folk"> <meta name="description" content="A fast and accessible multirotor UAV simulator with lumped parameter aerodynamics developed for education and research."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%96&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://spencerfolk.github.io/projects/project_rotorpy/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Spencer Folk </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Python UAV Simulator</h1> <p class="post-description">A fast and accessible multirotor UAV simulator with lumped parameter aerodynamics developed for education and research.</p> </header> <article> <p><strong>TL;DR:</strong> I developed and now maintain a UAV simulator that can be used for research or as a good entry point into learning about estimation, planning, and control for UAVs. Check it out <a href="https://github.com/spencerfolk/rotorpy" rel="external nofollow noopener" target="_blank">here</a>!</p> <hr> <p align="center"> <img src="https://raw.githubusercontent.com/spencerfolk/rotorpy/main/media/ppo_hover_1000k.gif" width="32%"> <img src="https://raw.githubusercontent.com/spencerfolk/rotorpy/main/media/gusty.gif" width="32%"> <img src="https://raw.githubusercontent.com/spencerfolk/rotorpy/main/media/minsnap.gif" width="32%"> </p> <p>During my Ph.D. I developed RotorPy, a UAV simulator written in Python and born out of a desire for a fast, modular, easy-to-use simulation framework that I could use for my research. When I surveyed existing UAV simulators for this purpose, I found that their aerodynamic models were either lacking or nonexistent. I also struggled with developing with them–simple modifications like implementing a new sensor or modifying the dynamics models seemed overly complicated either because of poor architecture design or (in the majority of cases) lacking documentation.</p> <p>In retrospect I think a lot of my confusion came from the limited background in <code class="language-plaintext highlighter-rouge">C++</code> I had at the time–a consequence I attribute to my upbringing in mechanical engineering. Nevertheless, I thought it would be a worthwhile exercise to develop my own UAV simulator in Python, a language I and most other engineers have a strong background in. I felt this decision would make my simulator more interpetable and accessible to more inexperienced engineers, especially those coming from a non-CS background.</p> <p>It helped that I already had a really good example of a Python-based UAV simulator via an advanced robotics course I took at Penn. The simulator (simply named <code class="language-plaintext highlighter-rouge">flightsim</code>) was written by Jimmy Paulos for the sole purpose of course instruction. RotorPy uses the same integration scheme and underlying architecture for simulation, but the dynamics model was improved, a few features were added, and everything was restructured and modularized.</p> <p>Because my main goal was to use this simulator for research, I was seeking the following properties:</p> <ol> <li> <strong>Speed</strong>: The simulator needed to be fast enough to generate a reasonably large dataset for deep/reinforcement learning applications, with a Real-Time-Factor of no less than 1.</li> <li> <strong>Easy to Install/Interpret/Use/Modify</strong>: I did not want complex dependencies (outside of Python’s <code class="language-plaintext highlighter-rouge">pip</code>) and I wanted to have control over every aspect of the simulator with ease. The concept of “rapid prototyping” comes to mind here.</li> <li> <strong>Modular</strong>: I wanted to make sure I could easily expand the simulator with new sensors, dynamics models, controllers, etc. as my research topics evolved over time.</li> <li> <strong>Inertial Sensing</strong>: For model-based wind estimation, proper accelerometer and gyroscope models were necessary.</li> <li> <strong>Basic Visualizations</strong>: It was important to me that I could make basic yet clean plots and animations of my simulations not only for presentations but also for rapid “sanity checking” when developing, say, control algorithms.</li> <li> <strong>Wind Models</strong>: Because my research revolves around wind and its effects on UAVs, it was really important that wind was treated as a fundamental module that was tightly integrated into RotorPy. The wind module needed to model winds in both space and time.</li> <li> <strong>Lumped Parameter Aerodynamics Models</strong>: The UAV dynamics needed to incorporate aerodynamic models, and I favored explicit lumped parameter models of thrust, drag, etc. over implicit schemes (e.g. panel methods) because they are faster, easier to modify, and more interpretable.</li> </ol> <p>The first requirement arguably should have disqualified Python, but it was a price I was willing to pay for code that was easier to read and develop. Because of some code optimization and integration choices, RotorPy actually runs quite fast on laptops and desktop computers.</p> <p>RotorPy became public on <a href="https://github.com/spencerfolk/rotorpy" rel="external nofollow noopener" target="_blank">Github</a> on March 15th, 2023. Soon after I presented the simulator to the workshop <a href="https://imrclab.github.io/workshop-uav-sims-icra2023/" rel="external nofollow noopener" target="_blank">“The Role of Robotics Simulators for Unmanned Aerial Vehicles”</a> at ICRA 2023.</p> <p>Since then RotorPy has been improved and expanded in many ways. I added a first order lag to the motor speeds to simulate motor dynamics. I also added new sensors including a 2D range sensor to simulate LiDAR. Most recently, I incorporated the multirotor dynamics model into a custom <a href="https://github.com/Farama-Foundation/Gymnasium" rel="external nofollow noopener" target="_blank">Gymnasium</a> environment for reinforcement learning, which uniquely supports different control abstractions from high level velocity commands all the way down to direct motor control.</p> <p>RotorPy continues to be a fantastic resource for learning about sensing, planning, and control for flying robots. It includes implementations of classical algorithms like A*, a nonlinear geometric tracking controller, and minimum snap trajectory generation for quadrotors.</p> <p>You can install RotorPy in Python using <code class="language-plaintext highlighter-rouge">pip install rotorpy</code>, or you can clone it <a href="https://github.com/spencerfolk/rotorpy" rel="external nofollow noopener" target="_blank">here</a> and read the documentation for more information.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Spencer Folk. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: March 09, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>