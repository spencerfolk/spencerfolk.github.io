<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Real-Time LiDAR Simulation | Spencer Folk </title> <meta name="author" content="Spencer Folk"> <meta name="description" content="Enabling mixed reality sensing on small UAVs by simulating LiDAR sensors in ROS."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%96&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://spencerfolk.github.io/projects/project_lidarsim/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Spencer Folk </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Real-Time LiDAR Simulation</h1> <p class="post-description">Enabling mixed reality sensing on small UAVs by simulating LiDAR sensors in ROS.</p> </header> <article> <p><strong>TL;DR:</strong> We developed a ROS package to simulate navigational LiDAR sensors in real time using motion capture.</p> <hr> <p>As part of my Ph.D. thesis, I’ve been running experiments on a <em>very</em> small quadrotor UAV. It’s so small that it can easily fit in the palm of your hand. The payload capacity is 20g or so and that’s on a good day.</p> <p>The algorithms I’ve developed thus far rely on data from navigational LiDARs in order to work. These expensive sensors use laser scans to detect surrounding geometry and typically weigh about 500g, which is over 10x the weight of my UAV…</p> <p>This problem motivated me to figure out a way to simulate LiDAR sensors in real time on any arbitrary robot no matter the size. The idea was pretty simple: if I could track the poses of the robot and any objects of interest in real time, then I should have all the information necessary to produce fake point cloud data, right?</p> <p>This turned into an incredible collaboration with a fellow researcher at the lab, Kashish Garg, where we rapidly developed a ROS package for LiDAR simulation. The idea is simple: our ROS node listens to data from external motion capture (such as Optitrack) to determine where objects are relative to the robot. Objects are then decomposed into a triangle mesh, and the simulator performs an optimized Moller-Trumbore raycasting algorithm to find intersections between the fake laser rays and triangles in the scene.</p> <p>The main advantages of our LiDAR simulator over other similar tools are:</p> <ol> <li>Our simulator runs in the loop using real time data collected from motion capture which means you can easily track dynamic obstacles.</li> <li>We use the full 6 DoF information about the robot and objects to produce a 3D point cloud.</li> <li>The sensor intrinsics (sensor noise, field of view, resolution, min/max range, etc.) are all easily configurable and can even be reconfigured in real time.</li> <li>It is basically plug-and-play with existing ROS codebases as our method runs in the background and provides data in the <a href="http://docs.ros.org/en/noetic/api/sensor_msgs/html/msg/PointCloud2.html" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">sensor_msgs/PointCloud2</code></a> format.</li> </ol> <p>Check out the video below to see our LiDAR simulator in action!</p> <div class="row justify-content-sm-center"> <iframe src="https://drive.google.com/file/d/1jp71Sjoh8empzK6erD_5WNbeADNfdYKk/preview" width="960" height="540" allow="autoplay"></iframe> </div> <div class="caption"> Our LiDAR simulator visualized in RViz with a real world perspective in the bottom right. The resolution, field of view, and refresh rates are based on an Ouster OS1. The simulator is running on a Beelink SER5 Pro Mini PC. </div> <p>We have plenty of planned improvements. Here’s a small teaser:</p> <ol> <li> <strong>Further performance gains</strong>: Our simulator is already quite fast, but there are some ways we’re thinking about making it even faster with some clever low-level optimizations. We’re also looking into GPU acceleration.</li> <li> <strong>Augmented reality worlds</strong>: Perhaps the feature I’m most excited about, we’re looking at ways to easily import virtual worlds through engines like Unreal or Unity to transform your motion capture space into whatever you can imagine it to be.</li> </ol> <p>I’m quite confident that the LiDAR simulator would be an incredibly helpful tool in classrooms teaching graduate level topics in perception, simultaneous localization and mapping (SLAM), and more. I’m looking forward to seeing ways people can use this tool for instruction.</p> <p><strong>Our plan is to release this package publicly very soon, so stay tuned for updates on this page!</strong></p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Spencer Folk. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: April 02, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>